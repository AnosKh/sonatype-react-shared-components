@mixin focusable-toggle-input($focus-border-selector) {
  position: relative;

  .nx-radio__input, .nx-checkbox__input {
    position: absolute;
    z-index: -1;

    &:focus {
      // less-nice IE11 focus style because IE11 doesn't support :focus-within
      margin-right: $nx-spacing-xxs;
      outline: 1px solid $nx-color-blue-44;
      opacity: 1;
      position: static;
      height: 100%;
      width: 0;
    }
  }

  &:focus-within {
    #{$focus-border-selector} {
      // the non-IE focus style
      border-color: $nx-color-blue-44;
      stroke: #02A6D9;
    }

    .nx-radio__input:checked {
      + .nx-radio__circle {
        filter: drop-shadow(0 0 3px rgba(2, 166, 217, 0.4));

        #{$focus-border-selector} {
          stroke: #02A6D9;
        }
      }
    }

    .nx-radio__input:focus, .nx-checkbox__input:focus {
      // cancel IE11-specific focus style
      margin: 0;
      opacity: 0;
      outline: none;
      position: absolute;
      height: initial;
    }
  }
}
