@mixin focus-glow {
  filter: drop-shadow(0 0 3px rgba(2, 166, 217, 0.4));
}

@mixin focusable-toggle-input($focus-border-selector) {
  .nx-radio__input, .nx-checkbox__input {
    position: absolute;
    z-index: -1;

    &:focus {
      // less-nice IE11 focus style because IE11 doesn't support :focus-within
      margin-right: $nx-spacing-xxs;
      outline: 1px solid #02a6d9;
      opacity: 1;
      position: static;
      vertical-align: 5px;
      width: 0;
    }
  }

  &:focus-within {
    .nx-radio__circle, .nx-checkbox__box {
      @include focus-glow;
    }

    #{$focus-border-selector} {
      // the non-IE focus style
      border-color: #02a6d9;
      stroke: #02A6D9;
    }

    .nx-radio__input:checked {
      + .nx-radio__circle {
        #{$focus-border-selector} {
          stroke: #02A6D9;
        }
      }
      &:hover {
        + .nx-radio__circle {
          #{$focus-border-selector} {
            stroke: #045dd1;
          }
        }
      }
    }

    .nx-checkbox__input:checked {
      + .nx-checkbox__box {
        border-color: #02a6d9;
      }
    }

    .nx-radio__input:focus, .nx-checkbox__input:focus {
      // cancel IE11-specific focus style
      margin: 0;
      opacity: 0;
      outline: none;
      position: absolute;
      height: initial;
    }
  }
}
